# C++文本处理基础知识

本文将介绍C++基础知识，以便快速上手文本处理

## 0x00 为什么要进行文本处理？

当我们得到一些游戏脚本时会出现如下情况

```
WA 3000, , 0

CG 0,cg/黒枠用棒, 250, @-40, @-100@1000
CG 1,cg/黒枠用棒, 250, @580, @100@1000

【虎春】「――くっ！　まさかこれを躱すとはっ！」

ST0 004, S005_1CA2AA_070_M, 1, 480@-1@0@0
ST.DF 004, 3, 20@20, 1
ST.CF 004, 1, 0x888888

俺の操作するアバターが絶好のタイミングで放った一撃は[n]見事に空を切った。

BG.XY 1, , 0
CG.DEL 7, 1
CG.DEL 8, 1
CG.DEL 9, 1

CG 2,cg/神姫戦演出１, 250
WA 250, , 0
```

可以看到，该段游戏脚本夹杂了一部分代码和需要加载的资源文件名

当我们对游戏进行翻译的时候肯定是不希望对着这样文本来进行翻译的

所以我们需要过滤文本，最好是能变成如下这样

~~~
Raw:【虎春】「――くっ！　まさかこれを躱すとはっ！」
Tra：这是一段翻译的文本1

Raw:俺の操作するアバターが絶好のタイミングで放った一撃は[n]見事に空を切った。
Tra:这是一段翻译的文本2
~~~

当我们把处理好的文本交给翻译，翻译完成后再把 `Tra:` 其后的文本导回到正确的地方